Роль "Регистратор":
  ✔ при авторизации пользователя с этой ролью таблица по умолчанию должна быть отфильтрована [показывать дефекты подразделения к которому принадлежит регистратор], но если убрать фильтр, то может видеть все дефекты
  ✔ Добавить обязательный комментарий при нажатии кнопки "Дефект не устранен"
  ✔ статус дефекта “Зарегистрирован” → убрать активные поля “Тип дефекта”, “Подразделение-владелец”, “Руководитель ремонта” из карточки дефекта
  ✔ статус дефекта “Требует решения” → убрать активные поля “Тип дефекта”, “Подразделение-владелец”, “Руководитель ремонта” из карточки дефекта

Роль "Владелец":
  ✔ при авторизации пользователя с этой ролью таблица по умолчанию должна быть отфильтрована [показывать дефекты подразделения к которому принадлежит владелец], но если убрать фильтр, то может видеть все дефекты
  ✔ статус дефекта “Работы завершены” → убрать активное поле “Выполнил проверку” из карточки дефекта @started @done @lasted()

Роль "Руководитель ремонта":
  ✔ при авторизации пользователя с этой ролью таблица по умолчанию должна быть отфильтрована [показывать дефекты подразделения к которому принадлежит руководитель], но если убрать фильтр, то может видеть все дефекты
  ✔ статус дефекта “Требует решения” → убрать активные поля “Тип дефекта”, “Подразделение-владелец”, “Руководитель ремонта” из карточки дефекта @started @done @lasted()
  ✔ статус дефекта “Работы завершены” → убрать активное поле “Выполнил проверку” из карточки дефекта @started @done @lasted()

Роль "Исполнитель ремонта":
  ✔ отключить кнопки "Требует решения" и "Принять в работу" у дефекта со статусом "Назначен исполнитель" если назначенный исполнитель в карточке дефекта не тот под которым осуществлен вход в систему
  ✔ при авторизации пользователя с этой ролью таблица по умолчанию должна быть отфильтрована [показывать дефекты подразделения к которому принадлежит исполнитель], но если убрать фильтр, то может видеть все дефекты

Общие фиксы:
  ✔ конечная дата в фильтре не включает установленную дату, например если выбрано 31.01.2024, то данные отобразятся до 30.01.2024. Данные за 31 число также должны отображаться
  ✔ убрать кнопку "Применить" в области фильтров и сделать реактивное применение фильтров к таблице при их выборе
  ☐ добавить в карточку дефекта ниже поля "Оборудование" переключатель с двумя значениями [компонент формы `switch`], слева от него лейбл "Эксплуатация" (выбрано по умолчанию `switch` неактивен), справа от него "ПНР" (`switch` активен), по этим значениям будет производиться фильтрация списка дефектов
  ✔ изменить в главном окне приложения на панели фильтров `checkbox` "В ППР" на `switch` "В ППР" [по умолчанию `switch` неактивен] @started @done @lasted()
  ☐ добавить на панели фильтров в главном окне приложения переключатель с двумя значениями [компонент формы `switch`], слева от него лейбл "Эксплуатация" (выбрано по умолчанию `switch` неактивен), справа от него "ПНР" (`switch` активен), по этим значениям будет производиться фильтрация списка дефектов
  ✘ уменьшить длину селекторов "Подразделение-владелец", "KKS", "Дата регистрации", "Срок устранения"
  ☐ добавить сортировку колонок главной таблицы в каждый header
  ✔ при выбранных фильтрах сделать экспорт в excel всех отфильтрованных страниц а не делать экспорт по одной странице
  ✔ добавить справа в header приложения текст к кому обращаться в случае проблем, например, "Для получения технической поддержки по приложению, пожалуйста, звоните по номеру 777" @started @done @lasted()
  ☐ добавить кнопку "Выгрузить дефект" в карточку дефекта, чтобы любой пользователь смог выгрузить в excel инфу из карточки дефекта и ее историю
  ✘ дефект отправлен на корректировку, в нем задан код KKS, владелец удаляет код KKS, подтверждает дефект, но KKS снова отображается, т.к. есть привязка к оборудованию (удаление KKS только через администратора) @started @cancelled @wasted()
  ✔ в закрытых дефектах в поле "Выполнил проверку" и "Результат проверки" не отображаются значения и в выгрузке excel вывод `<db.user.User object at 0x7fd21ced6440>` @started @done @lasted()

Изменение логики:
  ✔ Роль "Регистратор" -> убрать возможность менять поле "Подразделение-владелец" и по умолчанию в неактивном поле должно указываться подразделение, к которому относится данный регистратор @started @done @lasted()
  ☐ Роль "Регистратор" -> пользователи с данной ролью могут проверять выполнение работ по дефектам только своего подразделения. Если Регистратор относится к подразделению `РусАС`, то такой пользователь может проверять выполнение работ всех подразделений
  ✔ Роль "Владелец оборудования" -> пользователи с данной ролью могут закрывать дефект, в котором подразделение-владелец совпадает с подразделением-владельцем текущего пользователя в системе
  ☐ Подразделение-владелец "РусАС" -> будет несколько пользователей, которым должно быть открыто поле для изменения "Подразделение-владелец", `в РусАС будут все роли кроме "Владелец оборудования"`
  ☐ Роль "Руководитель ремонта" может в любой момент изменить исполнителя работ (`добавить кнопки "изменить исполнителя" на этапах "Исполнение","Зав. работ", "Проверка" ?`) @started
  ✔ Роль "Руководитель ремонта" при назначении исполнителя может назначить исполнителем ремонта самого себя. Добавить в карточку дефекта в поле "Исполнитель ремонта" ФИО авторизованного руководителя ремонта
  ✔ Роль "Инспектор" при авторизации видит все дефекты без фильтрации, остальным ролям при авторизации фильтр по подразделению-владельцу по умолчанию
  
Улучшения на рассмотрение:
  ☐ убрать возможность мультилогина под одной УЗ пользователя
  ✘ скрыть кнопку "Зарегистрировать дефект" всем, кроме пользователей с ролью "Регистратор"
  ☐ изменить цвет кнопки "Зарегистрировать дефект" с красного на темно-фиолетовый как у кнопки "ОК" в информационных модальных окнах
  ☐ скрыть неактивные кнопки в карточке дефекта для ролей, которым они недоступны

Вопросы:

  ✔ ВЫВОД В PDF