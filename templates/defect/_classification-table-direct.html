{% raw %}
<div id="VueSpravochnikDirect">
  <div class="modal modal3 fade" id="SpavochnikModalWindowDirect" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content pos_r1">
        <div class="modal-header card_defect" style="border-bottom: none;">
          <h3 class="modal-title" id="exampleModalLabel">Справочник кодов непосредственных причин дефекта</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="closeModalSpavochnikDefect"></button> 
        </div>
        <div class="modal-body modal-body1">
          <form method="post">
            <div class="block_data_column3">
              <div class="block-table">
                <div class="accordion" id="accordionFlushExample">
                  <div class="accordion-item" v-for="(accordion, index) in accordions" :key="index"> 
                    <h2 class="accordion-header" :id="'flush-heading' + index">
                      <button class="accordion-button" type="button" :data-bs-toggle="'collapse'" :data-bs-target="'#flush-collapse' + index" aria-expanded="false" :aria-controls="'flush-collapse' + index">
                        {{ accordion.header }}
                      </button>
                    </h2>
                    <div :id="'flush-collapse' + index" class="accordion-collapse collapse" :class="{ 'show': index === 0 }" :aria-labelledby="'flush-heading' + index" data-bs-parent="#accordionFlushExample">
                      <div class="accordion-body">
                        <table class="table table-striped table-sm table-hover">
                          <thead>
                            <tr>
                              <th class="table-column1">Код</th>
                              <th>Причина</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr v-for="row in accordion.items" @dblclick="updateDirectClassification(row)">
                              <template v-if="!row.isHeader">
                                <td>{{ row.category_reason_code }}</td>
                                <td>{{ row.category_reason_name }}</td>
                              </template>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endraw %}
<script src="{{ url_for('defect_js', path='spravochnik-direct.js') }}"></script>